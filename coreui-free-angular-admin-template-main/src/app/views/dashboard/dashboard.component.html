<div class="animated fadeIn">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h2 class="mb-1">Vertical Bar and Pie Chart</h2>
      <p class="text-medium-emphasis mb-0">Daily Tasks Accomplishment</p>
    </div>
    <div>
      <a routerLink="/task3" cButton color="primary" variant="outline">
        ‚Üê View Chart
      </a>
    </div>
  </div>

  <c-row class="mb-4">
    <c-col xs="12" sm="6" lg="3">
      <c-card class="mb-4">
        <c-card-body class="pb-3 d-flex justify-content-between align-items-start">
          <div>
            <div class="fs-4 fw-semibold">{{ totalHours }}</div>
            <div class="text-medium-emphasis text-uppercase fw-semibold small">Total Hours</div>
          </div>
          <div class="bg-primary text-white p-3 rounded" style="background: linear-gradient(135deg, #5856d6 0%, #4745b3 100%) !important;">
            <svg cIcon name="cilClock" size="xl"></svg>
          </div>
        </c-card-body>
      </c-card>
    </c-col>

    <c-col xs="12" sm="6" lg="3">
      <c-card class="mb-4">
        <c-card-body class="pb-3 d-flex justify-content-between align-items-start">
          <div>
            <div class="fs-4 fw-semibold">{{ averageHours }}</div>
            <div class="text-medium-emphasis text-uppercase fw-semibold small">Average Hours</div>
          </div>
          <div class="bg-success text-white p-3 rounded" style="background: linear-gradient(135deg, #2eb85c 0%, #1e7e34 100%) !important;">
            <svg cIcon name="cilChartLine" size="xl"></svg>
          </div>
        </c-card-body>
      </c-card>
    </c-col>

    <c-col xs="12" sm="6" lg="3">
      <c-card class="mb-4">
        <c-card-body class="pb-3 d-flex justify-content-between align-items-start">
          <div>
            <div class="fs-4 fw-semibold">{{ ojtData.length }}</div>
            <div class="text-medium-emphasis text-uppercase fw-semibold small">OJT Members</div>
          </div>
          <div class="bg-warning text-white p-3 rounded" style="background: linear-gradient(135deg, #f9b115 0%, #c87f0a 100%) !important;">
            <svg cIcon name="cilPeople" size="xl"></svg>
          </div>
        </c-card-body>
      </c-card>
    </c-col>

    <c-col xs="12" sm="6" lg="3">
      <c-card class="mb-4">
        <c-card-body class="pb-3 d-flex justify-content-between align-items-start">
          <div>
            <div class="fs-4 fw-semibold">{{ ojtData[0].name }}</div>
            <div class="text-medium-emphasis text-uppercase fw-semibold small">Top Performer</div>
          </div>
          <div class="bg-danger text-white p-3 rounded" style="background: linear-gradient(135deg, #e55353 0%, #b21f1f 100%) !important;">
            <svg cIcon name="cilStar" size="xl"></svg>
          </div>
        </c-card-body>
      </c-card>
    </c-col>
  </c-row>

  <c-row class="mb-4">
    <c-col xs="12" lg="6" class="mb-4 mb-lg-0">
      <c-card class="h-100">
        <c-card-header class="d-flex justify-content-between align-items-center">
          <strong>Vertical Bar Chart</strong>
          <c-badge color="success">Half Page</c-badge>
        </c-card-header>
        <c-card-body>
          <p class="text-medium-emphasis mb-3">
            Half page view with vertical orientation
          </p>
          <div class="chart-wrapper" style="height: 450px; position: relative;">
            <canvas #verticalBarCanvas></canvas>
          </div>
        </c-card-body>
      </c-card>
    </c-col>

    <c-col xs="12" lg="6">
      <c-card class="h-100">
        <c-card-header class="d-flex justify-content-between align-items-center">
          <strong>Pie Chart</strong>
          <c-badge color="warning">Half Page</c-badge>
        </c-card-header>
        <c-card-body>
          <p class="text-medium-emphasis mb-3">
            Distribution percentage of hours
          </p>
          <div class="chart-wrapper" style="height: 450px; position: relative;">
            <canvas #pieChartCanvas></canvas>
          </div>
        </c-card-body>
      </c-card>
    </c-col>
  </c-row>

  <c-row>
    <c-col xs="12">
      <c-card>
        <c-card-header>
          <strong>OJT Performance Summary</strong>
        </c-card-header>
        <c-card-body>
          <p class="text-medium-emphasis mb-3">
            Complete data from Google Sheets - Daily Tasks Accomplishment Indicator
          </p>
          <div class="table-responsive">
            <table cTable [hover]="true" [striped]="true" class="mb-0">
              <thead>
                <tr>
                  <th scope="col">Rank</th>
                  <th scope="col">OJT Name</th>
                  <th scope="col">Total Hours</th>
                  <th scope="col">Percentage</th>
                  <th scope="col">Status</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of ojtData; let i = index">
                  <td>
                    <c-badge 
                      [color]="i === 0 ? 'warning' : i === 1 ? 'secondary' : i === 2 ? 'info' : 'light'"
                      class="px-2 py-1 fw-bold">
                      {{ i + 1 }}
                    </c-badge>
                  </td>
                  <td>
                    <div class="d-flex align-items-center">
                      <span 
                        class="badge rounded-circle me-2" 
                        [style.background-color]="item.color"
                        style="width: 12px; height: 12px;">
                      </span>
                      <strong>{{ item.name }}</strong>
                    </div>
                  </td>
                  <td><strong>{{ item.hours }} hours</strong></td>
                  <td>{{ getPercentage(item.hours) }}</td>
                  <td>
                    <c-badge 
                      [color]="item.status === 'Excellent' ? 'success' : item.status === 'Good' ? 'info' : 'warning'">
                      {{ item.status }}
                    </c-badge>
                  </td>
                </tr>
              </tbody>
              <tfoot class="table-light">
                <tr>
                  <td colspan="2"><strong>Total</strong></td>
                  <td><strong>{{ totalHours }} hours</strong></td>
                  <td><strong>100%</strong></td>
                  <td></td>
                </tr>
              </tfoot>
            </table>
          </div>
        </c-card-body>
      </c-card>
    </c-col>
  </c-row>

 